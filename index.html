<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Esf-mu-portal by kanei</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Esf-mu-portal</h1>
        <p>A project to integrate Guacamole with MUNI</p>

        <p class="view"><a href="https://github.com/kanei/ESF-MU-Portal">View the Project on GitHub <small>kanei/ESF-MU-Portal</small></a></p>


        <ul>
          <li><a href="https://github.com/kanei/ESF-MU-Portal/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/kanei/ESF-MU-Portal/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/kanei/ESF-MU-Portal">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a name="esf-mu-portal" class="anchor" href="#esf-mu-portal"><span class="octicon octicon-link"></span></a>ESF MU Portal</h1>

<p>A project to implement a portal for ESF MU</p>

<h2>
<a name="technologies" class="anchor" href="#technologies"><span class="octicon octicon-link"></span></a>Technologies</h2>

<p>Core functionality will be covered by implementing Guacamole (<a href="http://guac-dev.org/">http://guac-dev.org/</a>). 
It is an open-source library designed to connect to remote desktop from any HTML5 compatible web browser
through a JAVA based server running on Apache TomCat. This highly lowers the requirements for client computer
and software, eliminating any required instalation steps for end users and providing seamless connection to 
the remote machine. </p>

<p>Overview</p>

<p>Client -&gt; Tunnel -&gt; Remote Desktop</p>

<p>Client</p>

<p>HTML5 Client (Browser) implemented as a Drupal module on the site (independend on client operating system, 
possibly usable on Android and IOS too).</p>

<p>Tunnel</p>

<p>JAVA based tunnel application running on Linux which provides the tunneling functionality for the HTML5 client. 
It runs as a service on Apache TomCat server.</p>

<p>Remote Desktop</p>

<p>Any kind of VNC or RDP protocol based server, which provides the end point we are connecting to.</p>

<h2>
<a name="roadmap" class="anchor" href="#roadmap"><span class="octicon octicon-link"></span></a>Roadmap</h2>

<p>Version 0.1 <em>(May 2013)</em></p>

<ul>
<li>[x] First functional version, ability to log in into remote machine from web using custom HTML5 client. </li>
<li>[x] Only running locally from one Virtual Machine to another. </li>
</ul><p>Version 0.2 <em>(June 2013)</em></p>

<ul>
<li>[x] Drupal integration module is created.</li>
<li>[x] Remote client server running on a standalone server with designated port so that multiple computers can connect to it.</li>
</ul><p>Version 0.3 <em>(July 2013)</em></p>

<ul>
<li>[x] Correct privilegies settings for the drupal module so that it can be integrated into the existing website</li>
<li>[x] Styling of the module to align with the page which it integrates with.</li>
</ul><h2>
<a name="instalation" class="anchor" href="#instalation"><span class="octicon octicon-link"></span></a>Instalation</h2>

<p>I have ever really tested this working on linux, but there should theoretically not be any problem running it on windows. 
I am not going to write the installation tutorial for it though, so if you'd like to try it, please go ahead. Steps 
should be fairly similar.</p>

<p>Requirements: Maven (<a href="http://maven.apache.org/">http://maven.apache.org/</a>), Tomcat (<a href="http://tomcat.apache.org">http://tomcat.apache.org</a>), JAVA, JAVA JDK</p>

<p>To verify that your environment is ready for the installation, please check that following commands return valid results.
Also make sure you have the manager webapp contained in your tomcat installation.</p>

<p>Maven <code>mvn --version</code> 
JAVA <code>java -version</code> version should be at least 1.5.x
JAVA JDK <code>echo $JAVA_HOME</code> should display the location of the JAVA SDK</p>

<p>Build JAVA Servlet application</p>

<ol>
<li>Navigate into a folder where you'd like to install this piece of software</li>
<li>Clone this repository <code>git clone git@github.com:kanei/ESF-MU-Portal.git</code>
</li>
<li>Enter the cloned repository <code>cd ESF-MU-Portal</code>
</li>
<li>Build the application <code>mvn clean install</code>
</li>
<li>Check the <code>target</code> folder and make sure it contains the built application (war)</li>
</ol><p>Deploy the JAVA Servlet application</p>

<p>I am using the Apache Tomcat Maven Plugin, so deployment should be very simple. All what is really needed is a setup
for the plugin, which is done by creating user credentials for the Manager and use them in Maven. 
Edit file <code>%TOMCAT_PATH%/conf/tomcat-users.xml</code> and setup your admin user.</p>

<div class="highlight highlight-xml"><pre><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;tomcat-users&gt;</span>
  <span class="nt">&lt;role</span> <span class="na">rolename=</span><span class="s">"manager"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;role</span> <span class="na">rolename=</span><span class="s">"admin"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;user</span> <span class="na">username=</span><span class="s">"admin"</span> <span class="na">password=</span><span class="s">"password"</span> <span class="na">roles=</span><span class="s">"admin,manager"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/tomcat-users&gt;</span>
</pre></div>

<p>Then edit file <code>%MAVEN_PATH%/conf/settings.xml</code> and add the same credentials. Also make sure that the id stays 
TomcatServer, otherwise it's not going to work (must be the same as in the pom.xml file).</p>

<div class="highlight highlight-xml"><pre><span class="nt">&lt;server&gt;</span>
    <span class="nt">&lt;id&gt;</span>TomcatServer<span class="nt">&lt;/id&gt;</span>
    <span class="nt">&lt;username&gt;</span>admin<span class="nt">&lt;/username&gt;</span>
    <span class="nt">&lt;password&gt;</span>password<span class="nt">&lt;/password&gt;</span>
<span class="nt">&lt;/server&gt;</span>
</pre></div>

<p>Then you can simply (re)deploy your project by running <code>mvn tomcat7:(re)deploy</code></p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/kanei">kanei</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>